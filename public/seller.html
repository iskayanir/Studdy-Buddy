<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seller</title>
    <link rel="stylesheet" href="../css/seller.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
</head>
<body>
    <header>
        <img src="images/logo3.png" class="logo" alt="Logo">
        <nav class="navbar">
            <ul>
                <li><a href="profile.html">הפרופיל שלי</a></li>
                <li><a href="#" onclick="navigateToCourses()">הקורסים שלי</a></li>
                <li><a href="search_page.html">חיפוש</a></li>
            </ul>
        </nav>
    </header>

    <article class="welcome">
        <h1><span id="name-placeholder"></span></h1>
    </article>
    
    <div class="dropdown">
        <button class="dropdown-toggle">בחר סוג עזרה</button>
        <div class="dropdown-menu">
            <label>
                <input type="checkbox" value="summary-sicom"> סיכום שיעור
            </label>
            <label>
                <input type="checkbox" value="summary-hashlama"> השלמת נושא
            </label>
            <label>
                <input type="checkbox" value="summary-ezra"> עזרה בתרגיל בית
            </label>
        </div>
    </div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
    const dropdownToggle = document.querySelector('.dropdown-toggle');
    const dropdownMenu = document.querySelector('.dropdown-menu');
    const checkboxes = dropdownMenu.querySelectorAll('input[type="checkbox"]');
    const divs = document.querySelectorAll('.content div');

    // Toggle dropdown visibility
    dropdownToggle.addEventListener('click', function() {
        dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';
    });

    // Filter divs based on selected checkboxes
    checkboxes.forEach(checkbox => {
        checkbox.addEventListener('change', function() {
            const selectedClasses = Array.from(checkboxes)
                .filter(checkbox => checkbox.checked)
                .map(checkbox => checkbox.value);

            divs.forEach(div => {
                const span = div.querySelector('span');
                if (span && selectedClasses.includes(span.className)) {
                    div.style.display = 'block';
                } else {
                    div.style.display = 'none';
                }
            });
        });
    });

    // Close the dropdown menu if clicked outside
    window.addEventListener('click', function(e) {
        if (!dropdownToggle.contains(e.target) && !dropdownMenu.contains(e.target)) {
            dropdownMenu.style.display = 'none';
        }
    });
});
</script>
    <div class="container">
        <div class="section" id="section5">
            <div class="banner-container">
                <figure class="banner">
                    <div id = idcurrentcourse></div>
                    <h3 id = "coursedata"></h3><br> <!-- הודעה מותאמת לשם הקורס -->
                    <h3>במה תוכל/י לעזור? </h3>
                </figure>
            </div>
            <div class="buttons-container">
                <button id="archive" class="black" onclick="toggleDisplayData('archive', this)">
                    <span>
                        <i class="bi bi-archive"></i>
                        ארכיון
                    </span>
                </button>
                <button id="approvedrequests" class="black" onclick="toggleDisplayData('approvedrequests', this)">
                    <span>
                        <i class="bi bi-bookmark-check"></i>
                        בקשות מאושרות
                    </span>
                </button>
            </div>
            <div id = "course-content">

            </div>
            <!-- <div class="search-container">
                <input type="text" placeholder="חפש..." class="search-input">
                <button class="search-button">
                    <span class="search-icon">&#x1F50D;</span>
                </button>
            </div> -->
            <!-- <div class="buttons">   
                <button id="buttonSummary" onclick="toggleDisplayData('lessonSummaries', this)">
                    <img src="images/סיכום.svg" alt="סיכום"></button>
                <button id="buttonTopicCompletion" onclick="toggleDisplayData('requestedHelpTopics', this)">
                    <img src="images/hashlamawhite.svg" alt="השלמת נושא"></button>
                <button id="buttonHomeworkHelp" onclick="toggleDisplayData('homeworkAssignments', this)">
                    <img src="images/עזרה בתרגיל בית.svg" alt="עזרה בתרגיל בית"> </button>
            </div> -->
            <div id="additionalFields"></div>
        </div>

        <div class="section" id="section6">
            <ul>
            <figure class="small-banner" id = "courses_buttons">
                <h2>הקורסים שלך</h2>
            </figure>
            
                <!-- <button id="course1" class="blue" onclick="toggleDisplayData('course1', this)">
                    <i class="bi bi-book"></i>
                    קורס 1
                </button>
                <button id="course2" class="black" onclick="toggleDisplayData('course2', this)">
                    <i class="bi bi-book"></i>
                    קורס 2
                </button>
                <button id="course3" class="black" onclick="toggleDisplayData('course3', this)">
                    <i class="bi bi-book"></i>
                    קורס 3
                </button>
                <button id="course4" class="black"  onclick="toggleDisplayData('course4', this)">
                    <i class="bi bi-book"></i>
                    קורס 4
                </button> -->
            </ul>
        </div>
    </div>

    <script src="js/seller.js"></script>
    <script>
        window.onload = function(){
            // שליפת נתוני המשתמש מ-Local Storage
            var userData = JSON.parse(localStorage.getItem('userData'));   
            if (userData) {
                // Get the user's name
                var userName = userData.name || '';
                // Update the HTML content with the user's name
                var nameElement = document.getElementById('name-placeholder');
                if (nameElement) {
                    nameElement.textContent = `היי ${userName}!`;
            }
            var email = userData.email || '';
            console.log(email) 
            // עזרה כאן!!
            loadCoursesDatafromFB(email)
        };
    }
    
    </script>
    
</body>
</html>

